if [[ $(git diff --name-only "$@") ]]; then
    set -xe
    git diff --name-only "$@"
else
    set -xe
    git diff --name-only "$@"
    git show --pretty= --name-only "$@"
fi
